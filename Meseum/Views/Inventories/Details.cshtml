@model Meseum.ViewModel.InventoryDetails

@{
    ViewBag.Title = "Inventory Details";
}
@section styles{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="~/Admin/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet" />
    <style type="text/css">
        .video-frame {
            width: 100%;
            height: 195px;
            border: 4px solid #dc3545;
            box-shadow: 1px 2px 3px #dc3545;
            border-radius: 3px;
        }

        .title {
            font-weight: 500;
            font-size: 14px;
            text-align: center;
            margin-bottom: 10px;
            margin-top: 10px;
            background-color: #dc3545;
            color: white;
            box-shadow: 1px 2px 4px #dc3545;
        }
    </style>

}
<div class="row">
    <h4>Inventory</h4>
    <dl>
        <dt>
            @Html.DisplayNameFor(model => model.Inventory.Category.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.Category.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Inventory.Location.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.Location.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Inventory.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Inventory.Date)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.Date)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Inventory.Material)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.Material)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Inventory.ObjectCode)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Inventory.ObjectCode)
        </dd>


    </dl>
</div>

<div class="row">
    <h2>Images Files</h2>
    @foreach (var item in Model.Files.Where(m => m.Type == "Image"))
    {
        <div class="col-md-4">
            <label>@item.Name</label>
            <img height="200" width="200" src="@Url.Content(item.path)" alt="img" />
        </div>
    }
</div>


<div class="row">
    <h2>Audio Files</h2>
    @foreach (var item in Model.Files.Where(m => m.Type == "Audio"))
    {
        <div class="col-md-4">
            <audio controls>
                <source src="@Url.Content(item.path)" type="audio/ogg">
            </audio>
        </div>

    }
    @*<table id="tblAudio" class="table table-bordered table-striped">
            <thead>
                <tr>

                    <th>Name</th>
                    <th>File Size(MB)</th>
                    <th>Play Audio</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Files.Where(m => m.Type == "Audio"))
                {
                    <tr>

                        <td>@item.Name</td>
                        <td>@item.Size</td>
                        <td>
                            <audio controls>
                                <source src="@Url.Content(item.path)" type="audio/ogg">
                            </audio>
                        </td>

                    </tr>
                }
            </tbody>
        </table>*@
</div>

@if (Model.Files.Any(m => m.Type == "Video"))
{
    <div class="row">
        <h2>Video Files</h2>
        @foreach (var item in Model.Files.Where(m => m.Type == "Video"))
        {

            <div class="col-sm-4 col-md-4 col-xs-12">
                @*<div class="title">@item.Name</div>
                    <div class="video-frame">*@
                <video style="width:100%; height:auto;" controls>
                    <source src="@Url.Content(item.path)" type="video/mp4" />
                </video>
                @*</div>*@
            </div>
        }

    </div>
}
@section scripts{
    <script src="~/Admin/vendor/datatables/jquery.dataTables.js"></script>
    <script src="~/Admin/vendor/datatables/dataTables.bootstrap4.js"></script>
    <script>
        $(document).ready(function () {
            $("body table tbody tr td a#btnUpload").click(function () {
                $("#txtId").val($(this).attr("data-id"));
                $('#myModal').modal('show');
            })
            $('#tblAudio').DataTable();

            $("audio").on("play", function () {
                $("audio").not(this).each(function (index, audio) {
                    audio.pause();
                });
            });
        })
    </script>

}